#categorize treated and untreated data accoring to tissue and drug 
split_treated_data <- split(treated_normalized, NCI_TPW_metadata[,6])
#carry out PCA of split_treated_data
#make data numeric

#tissue related PCA
install.packages("ggfortify")
library("ggfortify")

untreated_normalized_dataframe <- as.data.frame(untreated_normalized)
split_untreated_tissue <- split(untreated_normalized_dataframe, NCI_TPW_metadata[,6], drop = FALSE, sep = ".", lex.order = FALSE)

#investigating how pcas of different tissues are distributed, here for example for CNS
autoplot(prcomp(split_untreated_tissue$CNS))

#doing the same for FC, drug related, here just for example gemcitibine
FC_as_dataframe <- as.data.frame(FC)
split_FC_drug <- split(FC_as_dataframe, NCI_TPW_metadata[,3], drop = FALSE, sep = ".", lex.order = FALSE)
autoplot(prcomp(split_FC_drug$gemcitibine))
